---
title: 'soft delete와 hard delete 그리고 법'
date: '2022-07-26'
slug: 'soft-delete-and-hard-delete'
tags: ['Development']
hero_image: './Soft_Delete와_Hard_Delete_히어로_이미지.jpeg'
hero_image_alt: 'Soft Delete와  Hard Delete 히어로 이미지'
---
# 들어가며

스모디 프로젝트의 회원 탈퇴 기능을 구현하면서 팀원 들과 데이터 삭제 방식에 대해서 토론을 진행했다.

토론을 통해 두 가지의 데이터 삭제 방식이 있다는 것을 알게됐다. 또한 전자상거래 플랫폼이라면 데이터 삭제에 관하여 법적으로 추가적인 제약이 있다는 사실도 알게됐다.

# Hard delete란?

- 데이터 삭제 요청 시 실제 DB의 데이터를 삭제하는 방법

# Soft delete란?

- 데이터 삭제 요청 시 실제 DB의 데이터를 삭제하지 않고, 컬럼에 해당 데이터 삭제 여부를 기록하는 방법
- 데이터 조회 요창 시 삭제로 기록된 데이터는 반환하면 안된다.

# 관련 법안

이커머스에 해당되는 서비스는 [전자상거래법 시행령](https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%A0%84%EC%9E%90%EC%83%81%EA%B1%B0%EB%9E%98%20%EB%93%B1%EC%97%90%EC%84%9C%EC%9D%98%20%EC%86%8C%EB%B9%84%EC%9E%90%EB%B3%B4%ED%98%B8%EC%97%90%20%EA%B4%80%ED%95%9C%20%EB%B2%95%EB%A5%A0%20%EC%8B%9C%ED%96%89%EB%A0%B9)을 준수해야한다.

해당 법 중 `제6조(사업자가 보존하는 거래기록의 대상 등)`에는 사업자 또는 서비스 운영자가 거래 기록을 보존해야하는 의무에 대해 명시돼 있다.

# 깨달은 점

사용자의 데이터(특히 금전과 관련된 데이터)를 다룰 때는 성능, 구현 난이도, 일반적인 사용자에 대한 가정 뿐만 아니라 법적인 요소도 고려해야 한다는 것을 알게됐다. 일례로 회원 탈퇴를 원하는 사용자는 해당 서비스에 저장된 본인의 정보가 모두 제거되길 바란다고 판단했다. 때문에 회원 정보와 회원의 관련된 바로 정보를 hard delete하는 것이 사용자를 위한 것이라 생각했다. 그러나 이커머스 서비스라면 위와 같은 판단의 위법 행위에 해당된다.

따라서 서비스 개발자라면 해당 도메인과 관련된 법을 어느정도 알고있어야 한다는 것을 느꼈다.

# 참고 자료

[전자상거래 등에서의 소비자보호에 관한 법률 시행령](https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%A0%84%EC%9E%90%EC%83%81%EA%B1%B0%EB%9E%98%20%EB%93%B1%EC%97%90%EC%84%9C%EC%9D%98%20%EC%86%8C%EB%B9%84%EC%9E%90%EB%B3%B4%ED%98%B8%EC%97%90%20%EA%B4%80%ED%95%9C%20%EB%B2%95%EB%A5%A0%20%EC%8B%9C%ED%96%89%EB%A0%B9)
